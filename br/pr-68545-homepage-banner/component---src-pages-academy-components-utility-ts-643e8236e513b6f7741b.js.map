{"version":3,"file":"component---src-pages-academy-components-utility-ts-643e8236e513b6f7741b.js","mappings":"iSAIaA,GAAMC,EAAAA,EAAAA,MAAcC,OAAOC,SAASC,KAAO,GAE3CC,EAAkB,SAACC,GAC5B,IAEIC,EAFEC,EAAUC,GAAYC,uBAKxBH,EADAD,EACU,gDAEA,8CAGdK,EAAAA,EAAAA,IAAU,CACNC,KAAK,2gBASiCJ,EATlC,6BAUWD,EAVX,wGAeCM,EAAY,SAACC,IACtBC,EAAAA,EAAAA,UAAS,4BAA4BC,UAAU,GAAGF,KAGzCG,EAAgB,SAACC,GAC1B,OAAyBC,EAAAA,EAAAA,KAAjBb,EAAR,EAAQA,MAAOc,EAAf,EAAeA,MACXC,EAAgBH,EAWpB,OATIZ,EACAe,EAAgBH,EAAKI,QACjB,SAACC,GAAD,MAA8B,gBAApBA,EAAKC,YAAoD,mBAApBD,EAAKC,cAEjDJ,IACPC,EAAgBH,EAAKI,QACjB,SAACC,GAAD,MAA8B,gBAApBA,EAAKC,YAAoD,mBAApBD,EAAKC,eAGrDH","sources":["webpack://deriv-com/./src/pages/academy/components/utility.ts"],"sourcesContent":["import { navigate } from 'gatsby'\nimport { isBrowser, addScript } from 'common/utility'\nimport { useCountryRule } from 'components/hooks/use-country-rule'\n\nexport const url = isBrowser() ? window.location.href : ''\n\nexport const addScriptForCIO = (is_eu) => {\n    const site_id = process.env.GATSBY_ENV_CIO_SITE_ID\n\n    let cio_url\n\n    if (is_eu) {\n        cio_url = 'https://assets.customer.io/assets/track-eu.js'\n    } else {\n        cio_url = 'https://assets.customer.io/assets/track.js'\n    }\n\n    addScript({\n        text: `\n            var _cio = _cio || [];\n            var a,b,c;a=function(f){return function(){_cio.push([f].\n            concat(Array.prototype.slice.call(arguments,0)))}};b=[\"load\",\"identify\",\n            \"sidentify\",\"track\",\"page\"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};\n            var t = document.createElement('script'),\n                s = document.getElementsByTagName('script')[0];\n            t.async = true;\n            t.id    = 'cio-tracker';\n            t.setAttribute('data-site-id', '${site_id}');\n            t.src = '${cio_url}' \n            //If your account is in the EU, use:\n            s.parentNode.insertBefore(t, s);`,\n    })\n}\nexport const handleTag = (tag_name) => {\n    navigate(`/academy/search?category=${encodeURI(`${tag_name}`)}`)\n}\n\nexport const useDataFilter = (data) => {\n    const { is_eu, is_uk } = useCountryRule()\n    let filtered_data = data\n\n    if (is_eu) {\n        filtered_data = data.filter(\n            (item) => item.visibility !== 'hide_for_eu' && item.visibility !== 'hide_for_eu_uk',\n        )\n    } else if (is_uk) {\n        filtered_data = data.filter(\n            (item) => item.visibility !== 'hide_for_uk' && item.visibility !== 'hide_for_eu_uk',\n        )\n    }\n    return filtered_data\n}\n"],"names":["url","isBrowser","window","location","href","addScriptForCIO","is_eu","cio_url","site_id","process","GATSBY_ENV_CIO_SITE_ID","addScript","text","handleTag","tag_name","navigate","encodeURI","useDataFilter","data","useCountryRule","is_uk","filtered_data","filter","item","visibility"],"sourceRoot":""}