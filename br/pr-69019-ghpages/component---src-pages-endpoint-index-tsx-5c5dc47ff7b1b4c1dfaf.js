"use strict";(self.webpackChunkderiv_com=self.webpackChunkderiv_com||[]).push([[1425],{11664:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(15007),a=n(51074),i=n(75708),l=n(20655),o=n(12873),u=n(81259),c=n(43827),s=n(99509),d=n(1039),m=n(86875),p=n(65084),g=n(60431),f=n(58086),b=n(74690),h=function(e,t){var n=(0,r.useState)((function(){var n=(0,p.jU)()?window.localStorage.getItem(t):null;return n?(0,p.sz)(n):e})),a=n[0],i=n[1];return(0,r.useEffect)((function(){(0,p.jU)()&&((0,p.MX)(a)?window.localStorage.removeItem(t):window.localStorage.setItem(t,a))}),[t,a]),[a,i]},_=(0,a.default)(d.II).withConfig({displayName:"endpoint__StyledInput",componentId:"sc-1292b2m-0"})(["& ~ label{transform:translate(-0.6rem,-2rem) scale(0.7);color:var(--color-black-3);background-color:",";@media ","{top:9px;}}"],(function(e){var t=e.background;return t?"var(--color-"+t+")":"var(--color-grey-1)"}),l.Z.tabletL),v=(0,a.default)(c.W2).withConfig({displayName:"endpoint__StyledContainer",componentId:"sc-1292b2m-1"})(["text-align:center;height:100vh;padding:auto 0;justify-content:start;"]),y=a.default.div.withConfig({displayName:"endpoint__ButtonContainer",componentId:"sc-1292b2m-2"})(["margin-top:2rem;"]),C=a.default.div.withConfig({displayName:"endpoint__InputGroup",componentId:"sc-1292b2m-3"})(["width:40rem;margin:0 auto 3.4rem;& > div{margin-bottom:1rem;}& > div:last-child{margin-bottom:0;}"]),w=(0,a.default)(d.zx).withConfig({displayName:"endpoint__StyledButton",componentId:"sc-1292b2m-4"})(["margin:0.8rem 0.4rem;"]),E=function(e){var t={},n=(0,p.An)(e?e.server_url:""),r=(0,p.An)(e?e.app_id.toString():""),a=(0,p.An)(e?e.clients_country.toString():""),i=m.Z.required(n)||m.Z.url(n,"Please enter a valid server URL"),l=m.Z.required(r)||m.Z.number(r,"Please enter a valid app ID"),o=m.Z.required(a)||m.Z.alphabetic(a);return i&&(t.server_url=i),l&&(t.app_id=l),o&&(t.clients_country=o),t},S=(0,o.Wm)()((function(){var e=h(g.Ej,"config.server_url"),t=e[0],n=e[1],a=h((0,f.rh)(),"config.app_id"),l=a[0],o=a[1],d=r.useState(!1),m=d[0],p=d[1],S=r.useContext(b.c),I=S.website_status,N=S.setWebsiteStatus,k=S.website_status_loading,x=function(e,t){e({message:t}),setTimeout((function(){e({})}),1500)};return r.createElement(u.Z,{type:"static",margin_top:"0"},r.createElement(c.HJ,{title:"Endpoint",description:"Change deriv API endpoint.",no_index:!0}),r.createElement(v,{justify:"center",align:"center",direction:"column"},r.createElement(s.h4,{as:"h2",type:"page-title",align:"center",mt:"80px"},"Change API endpoint"),r.createElement(s.h4,{as:"h4",type:"sub-section-title",align:"center",weight:"500",mt:"0.5rem",mb:"3.8rem"},"Update configuration for API endpoint or other settings"),r.createElement(i.J9,{initialValues:{server_url:t||"",app_id:l||"",clients_country:null!=I&&I.clients_country?null==I?void 0:I.clients_country:""},enableReinitialize:!0,validate:E,onSubmit:function(e,t){t.setSubmitting(!0),n(e.server_url),o(e.app_id);var r=Object.assign({},I,{clients_country:e.clients_country});N(r),t.setSubmitting(!1),x(t.setStatus,"Config has been updated"),window.location.reload()}},(function(e){var t=e.values,a=e.errors,l=e.handleChange,u=e.handleBlur,c=e.isSubmitting,d=e.setStatus,b=e.setFieldValue,h=e.isValid,v=e.dirty,E=e.touched,S=e.status;return r.createElement(i.l0,{noValidate:!0},r.createElement(C,null,r.createElement(_,{name:"server_url",error:a.server_url,value:t.server_url,disabled:m,handleError:function(){return b("server_url","")},onChange:l,onBlur:u,type:"text",label:"Server URL",background:"white",placeholder:"e.g. green.binaryws.com"}),r.createElement(_,{name:"app_id",error:a.app_id,value:t.app_id,disabled:m,handleError:function(){return b("app_id","")},onChange:l,onBlur:u,type:"text",label:"App ID",background:"white",placeholder:"e.g. 9999"}),r.createElement(_,{name:"clients_country",error:a.clients_country,value:t.clients_country,disabled:k,handleError:function(){return b("clients_country","")},onChange:l,onBlur:u,type:"text",label:"Clients country",background:"white",placeholder:"e.g. mt (for EU) or gb (for UK) or za (for P2P)"})),r.createElement(s.xv,{align:"center",color:"green"},(null==S?void 0:S.message)&&S.message),r.createElement(y,null,r.createElement(w,{tertiary:!0,onClick:function(){return function(e){p(!0),n(),o(),setTimeout((function(){n(g.Ej),o((0,f.rh)()),p(!1)}),500),N(),x(e,"Config has been reset successfully")}(d)},type:"button"},"Reset to original settings"),r.createElement(w,{secondary:"true",disabled:c||!v||!E||!h,type:"submit"},"Submit changes")))}))))}))},86875:function(e,t,n){var r=n(12873),a={email:/^[^@]+@[^@]+\.[^@.]{2,}$/,url:/^[\w|\-|.]+$/,alphabetic:/^[a-zA-Z]+$/,number:/^\d+$/},i={email:function(e,t){return a.email.test(e)?null:t||(0,r.NC)("Email is required")},name:function(e,t){return e?null:t||(0,r.NC)("Name is required")},required:function(e,t){return e?null:t||(0,r.NC)("This field is required")},url:function(e,t){return a.url.test(e)?null:t||(0,r.NC)("Please enter a valid URL format")},number:function(e,t){return a.number.test(e)?null:t||(0,r.NC)("Please enter a valid number")},alphabetic:function(e,t){return a.alphabetic.test(e)?null:t||(0,r.NC)("Please enter only alphabetic characters")}};t.Z=i}}]);
//# sourceMappingURL=component---src-pages-endpoint-index-tsx-5c5dc47ff7b1b4c1dfaf.js.map